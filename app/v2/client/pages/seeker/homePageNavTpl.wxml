<import src="./registerPageTpl.wxml" />


<template name="myPushTpl">
    <view class="page">
        <view class="weui-tab">
            <view class="weui-navbar">
                <block wx:for="{{list}}" wx:key="*this">
                    <view id="{{index}}" class="weui-navbar__item {{selectedId == index ? 'weui-bar__item_on' : ''}}" 
                        data-type="myPush" data-infotype="{{index}}" bindtap="tabClick">
                        <view class="weui-navbar__title">{{item.title}}</view>
                    </view>
                </block>
                <view class="weui-navbar__slider" 
                    style="left: {{sliderLeft}}px; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);"></view>
            </view>
            <view class="weui-tab__panel">
                <view wx:for="{{list}}" wx:key="id">
                    <view class="weui-tab__content" hidden="{{selectedId != index}}">
                        <view class="weui-media-box weui-media-box_small-appmsg">
                            <view class="weui-cells weui-cells_in-small-appmsg">
                                <navigator wx:for="{{item.data.list}}" wx:key="*this" url="" data-index="{{index}}" data-item="{{item}}" 
                                    bindtap="goRecvdPushDetail" class="weui-cell weui-cell_access" hover-class="weui-cell_active">
                                    <view class="weui-cell__hd" style="height:40px;width:40px">
                                        <image src="{{item.receivedSInfo.wx_portraitAddr}}" style="width: 100%;height: 100%;margin-right: 5px" />
                                    </view>
                                    <view class="weui-cell__bd weui-cell_primary" style="margin-left:10px">
                                        <view>{{item.receivedSInfo.requirement}}</view>
                                    </view>
                                    <view class="weui-cell__ft weui-cell__ft_in-access"></view>
                                </navigator>
                            </view>
                        </view>
                    </view>
                </view>
            </view>
        </view>
    </view>
</template>

<template name="myMatchTpl">
    <view class="page">
        <view class="weui-panel">
            <view class="weui-panel__hd"></view>
            <view class="weui-panel__bd">
                <view class="weui-media-box weui-media-box_small-appmsg">
                    <view class="weui-cells weui-cells_in-small-appmsg">
                        <navigator wx:for="{{list}}" wx:key="this" url="" data-index="{{index}}" data-item="{{item}}" bindtap="goMessageDetail" 
                            class="weui-cell weui-cell_access" hover-class="weui-cell_active">
                            <view class="weui-cell__hd" style="height:40px;width:40px"><image src="{{item.wx_portraitAddr}}" 
                                    style="width: 100%;height: 100%;margin-right: 5px" /></view>
                            <view class="weui-cell__bd weui-cell_primary" style="margin-left:10px">
                                <view>{{item.requirement}}</view>
                            </view>
                            <view class="weui-cell__ft weui-cell__ft_in-access"></view>
                        </navigator>
                    </view>
                </view>
            </view>
        </view>
    </view>
</template>

<template name="myDelegatorTpl">
    <view class="page">
        <view class="weui-panel">
            <view class="weui-panel__hd"></view>
            <view class="weui-panel__bd">
                <view class="weui-media-box weui-media-box_small-appmsg">
                    <view class="weui-cells weui-cells_in-small-appmsg">
                        <navigator wx:for="{{list}}" wx:key="this" url="" data-index="{{index}}" data-item="{{item}}" bindtap="goMessageDetail" 
                            class="weui-cell weui-cell_access" hover-class="weui-cell_active">
                            <view class="weui-cell__hd" style="height:40px;width:40px"><image src="{{item.wx_portraitAddr}}" 
                                    style="width: 100%;height: 100%;margin-right: 5px" /></view>
                            <view class="weui-cell__bd weui-cell_primary" style="margin-left:10px">
                                <view>{{item.requirement}}</view>
                            </view>
                            <view class="weui-cell__ft weui-cell__ft_in-access"></view>
                        </navigator>
                    </view>
                </view>
            </view>
        </view>
    </view>
</template>

<template name="myInfoTpl">
    <view class="page">
        <view class="page__bd">
            <view class="weui-tab">
                <view class="weui-navbar">
                    <block wx:for="{{list}}" wx:key="*this">
                        <view id="{{index}}" class="weui-navbar__item {{selectedId == index ? 'weui-bar__item_on' : ''}}" 
                            data-type="myInfo" data-infotype="{{index}}" bindtap="tabClick">
                            <view class="weui-navbar__title">{{item.title}}</view>
                        </view>
                    </block>
                    <view class="weui-navbar__slider" style="left: {{sliderLeft}}px; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);"></view>
                </view>
                <view class="weui-tab__panel">
                    <view wx:for="{{list}}" wx:key="*this" class="weui-tab__content" hidden="{{selectedId != index}}">
                        <!--view class="weui-tab__content" hidden="{{selectedId != index}}"-->
                            <template is="{{index}}" data="{{...item}}"/>
                    </view>
                </view>
            </view>
        </view>
    </view>
</template>

<template name="messageListTpl">
    <view class="page">
        <view class="weui-panel">
            <view class="weui-panel__hd"></view>
            <view class="weui-panel__bd">
                <view class="weui-media-box weui-media-box_small-appmsg">
                    <view class="weui-cells weui-cells_in-small-appmsg">
                        <navigator wx:for="{{list}}" wx:key="this" url="" data-index="{{index}}" data-item="{{item}}" bindtap="goMessageDetail" 
                            class="weui-cell weui-cell_access" hover-class="weui-cell_active">
                            <view class="weui-cell__hd" style="height:40px;width:40px"><image src="{{item.wx_portraitAddr}}" 
                                    style="width: 100%;height: 100%;margin-right: 5px" /></view>
                            <view class="weui-cell__bd weui-cell_primary" style="margin-left:10px">
                                <view>{{item.requirement}}</view>
                            </view>
                            <view class="weui-cell__ft weui-cell__ft_in-access"></view>
                        </navigator>
                    </view>
                </view>
            </view>
        </view>
    </view>
</template>
